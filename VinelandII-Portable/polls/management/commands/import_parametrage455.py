from django.core.management.base import BaseCommand
from ...models import AgeTranche, ScoreParametrage
import json

class Command(BaseCommand):
    help = 'Import parametrage data for tranche deuxAnsCinqMoisATroisAns from JSON files'

    def handle(self, *args, **options):
        # Création ou récupération de la tranche d'âge
        tranche, created = AgeTranche.objects.get_or_create(
            code='455',
            defaults={
                'label': '4 ans et 5 mois à 5 ans',
                'min_months': 53,
                'max_months': 60
            }
        )
        self.stdout.write(self.style.SUCCESS(f'Tranche créée: {tranche.label}'))

        # Charger les données JSON
        json_data = {
            "CVP": [
    {"noteBrute": "0", "ns": "3", "percentile": "<2"},
    {"noteBrute": "1", "ns": "4", "percentile": "2"},
    {"noteBrute": "2", "ns": "4", "percentile": "2"},
    {"noteBrute": "3", "ns": "4", "percentile": "2"},
    {"noteBrute": "4", "ns": "4", "percentile": "2"},
    {"noteBrute": "5", "ns": "4", "percentile": "2"},
    {"noteBrute": "6", "ns": "5", "percentile": "10"},
    {"noteBrute": "7", "ns": "5", "percentile": "10"},
    {"noteBrute": "8", "ns": "5", "percentile": "10"},
    {"noteBrute": "9", "ns": "5", "percentile": "10"},
    {"noteBrute": "10", "ns": "5", "percentile": "10"},
    {"noteBrute": "11", "ns": "5", "percentile": "10"},
    {"noteBrute": "12", "ns": "6", "percentile": "26"},
    {"noteBrute": "13", "ns": "6", "percentile": "26"},
    {"noteBrute": "14", "ns": "6", "percentile": "26"},
    {"noteBrute": "15", "ns": "6", "percentile": "26"},
    {"noteBrute": "16", "ns": "6", "percentile": "26"},
    {"noteBrute": "17", "ns": "7", "percentile": "36"},
    {"noteBrute": "18", "ns": "7", "percentile": "36"},
    {"noteBrute": "19", "ns": "7", "percentile": "36"},
    {"noteBrute": "20", "ns": "7", "percentile": "36"},
    {"noteBrute": "21", "ns": "7", "percentile": "36"},
    {"noteBrute": "22", "ns": "7", "percentile": "36"},
    {"noteBrute": "23", "ns": "8", "percentile": "40"},
    {"noteBrute": "24", "ns": "8", "percentile": "40"},
    {"noteBrute": "25", "ns": "8", "percentile": "40"},
    {"noteBrute": "26", "ns": "8", "percentile": "40"},
    {"noteBrute": "27", "ns": "8", "percentile": "40"},
    {"noteBrute": "28", "ns": "9", "percentile": "47"},
    {"noteBrute": "29", "ns": "9", "percentile": "47"},
    {"noteBrute": "30", "ns": "9", "percentile": "47"},
    {"noteBrute": "31", "ns": "9", "percentile": "47"},
    {"noteBrute": "32", "ns": "9", "percentile": "47"},
    {"noteBrute": "33", "ns": "10", "percentile": "57"},
    {"noteBrute": "34", "ns": "10", "percentile": "57"},
    {"noteBrute": "35", "ns": "10", "percentile": "57"},
    {"noteBrute": "36", "ns": "10", "percentile": "57"},
    {"noteBrute": "37", "ns": "11", "percentile": "62"},
    {"noteBrute": "38", "ns": "11", "percentile": "62"},
    {"noteBrute": "39", "ns": "11", "percentile": "62"},
    {"noteBrute": "40", "ns": "11", "percentile": "62"},
    {"noteBrute": "41", "ns": "12", "percentile": "71"},
    {"noteBrute": "42", "ns": "12", "percentile": "71"},
    {"noteBrute": "43", "ns": "12", "percentile": "71"},
    {"noteBrute": "44", "ns": "12", "percentile": "71"},
    {"noteBrute": "45", "ns": "13", "percentile": "81"},
    {"noteBrute": "46", "ns": "13", "percentile": "81"},
    {"noteBrute": "47", "ns": "13", "percentile": "81"},
    {"noteBrute": "48", "ns": "13", "percentile": "81"},
    {"noteBrute": "49", "ns": "13", "percentile": "81"},
    {"noteBrute": "50", "ns": "14", "percentile": "83"},
    {"noteBrute": "51", "ns": "14", "percentile": "83"},
    {"noteBrute": "52", "ns": "14", "percentile": "83"},
    {"noteBrute": "53", "ns": "14", "percentile": "83"},
    {"noteBrute": "54", "ns": "14", "percentile": "83"},
    {"noteBrute": "55", "ns": "15", "percentile": "86"},
    {"noteBrute": "56", "ns": "15", "percentile": "86"},
    {"noteBrute": "57", "ns": "15", "percentile": "86"},
    {"noteBrute": "58", "ns": "15", "percentile": "86"},
    {"noteBrute": "59", "ns": "16", "percentile": "93"},
    {"noteBrute": "60", "ns": "16", "percentile": "93"},
    {"noteBrute": "61", "ns": "16", "percentile": "93"},
    {"noteBrute": "62", "ns": "16", "percentile": "93"},
    {"noteBrute": "63", "ns": "17", "percentile": "98"},
    {"noteBrute": "64", "ns": "17", "percentile": "98"},
    {"noteBrute": "65", "ns": "17", "percentile": "98"},
    {"noteBrute": "66", "ns": "17", "percentile": "98"},
    {"noteBrute": "67", "ns": "17", "percentile": "98"},
    {"noteBrute": "68", "ns": "17", "percentile": "98"},
    {"noteBrute": "69", "ns": "17", "percentile": "98"}
],
            "LE": [
    {"noteBrute": "0", "ns": "6", "percentile": "15"},
    {"noteBrute": "1", "ns": "6", "percentile": "15"},
    {"noteBrute": "2", "ns": "6", "percentile": "15"},
    {"noteBrute": "3", "ns": "7", "percentile": "33"},
    {"noteBrute": "4", "ns": "7", "percentile": "33"},
    {"noteBrute": "5", "ns": "7", "percentile": "33"},
    {"noteBrute": "6", "ns": "7", "percentile": "33"},
    {"noteBrute": "7", "ns": "8", "percentile": "42"},
    {"noteBrute": "8", "ns": "8", "percentile": "42"},
    {"noteBrute": "9", "ns": "8", "percentile": "42"},
    {"noteBrute": "10", "ns": "8", "percentile": "42"},
    {"noteBrute": "11", "ns": "9", "percentile": "52"},
    {"noteBrute": "12", "ns": "9", "percentile": "52"},
    {"noteBrute": "13", "ns": "9", "percentile": "52"},
    {"noteBrute": "14", "ns": "9", "percentile": "52"},
    {"noteBrute": "15", "ns": "9", "percentile": "52"},
    {"noteBrute": "16", "ns": "10", "percentile": "63"},
    {"noteBrute": "17", "ns": "10", "percentile": "63"},
    {"noteBrute": "18", "ns": "10", "percentile": "63"},
    {"noteBrute": "19", "ns": "10", "percentile": "63"},
    {"noteBrute": "20", "ns": "10", "percentile": "63"},
    {"noteBrute": "21", "ns": "11", "percentile": "69"},
    {"noteBrute": "22", "ns": "11", "percentile": "69"},
    {"noteBrute": "23", "ns": "11", "percentile": "69"},
    {"noteBrute": "24", "ns": "11", "percentile": "69"},
    {"noteBrute": "25", "ns": "12", "percentile": "75"},
    {"noteBrute": "26", "ns": "12", "percentile": "75"},
    {"noteBrute": "27", "ns": "12", "percentile": "75"},
    {"noteBrute": "28", "ns": "12", "percentile": "75"},
    {"noteBrute": "29", "ns": "12", "percentile": "75"},
    {"noteBrute": "30", "ns": "13", "percentile": "81"},
    {"noteBrute": "31", "ns": "13", "percentile": "81"},
    {"noteBrute": "32", "ns": "13", "percentile": "81"},
    {"noteBrute": "33", "ns": "13", "percentile": "81"},
    {"noteBrute": "34", "ns": "14", "percentile": "83"},
    {"noteBrute": "35", "ns": "14", "percentile": "83"},
    {"noteBrute": "36", "ns": "14", "percentile": "83"},
    {"noteBrute": "37", "ns": "15", "percentile": "90"},
    {"noteBrute": "38", "ns": "15", "percentile": "90"},
    {"noteBrute": "39", "ns": "15", "percentile": "90"},
    {"noteBrute": "40", "ns": "15", "percentile": "90"},
    {"noteBrute": "41", "ns": "16", "percentile": "98"},
    {"noteBrute": "42", "ns": "16", "percentile": "98"},
    {"noteBrute": "43", "ns": "16", "percentile": "98"},
    {"noteBrute": "44", "ns": "17", "percentile": ">99"},
    {"noteBrute": "45", "ns": "17", "percentile": ">99"},
    {"noteBrute": "46", "ns": "17", "percentile": ">99"},
    {"noteBrute": "47", "ns": "18", "percentile": ">99"},
    {"noteBrute": "48", "ns": "18", "percentile": ">99"},
    {"noteBrute": "49", "ns": "18", "percentile": ">99"},
    {"noteBrute": "50", "ns": "18", "percentile": ">99"}
],   
            "LR": [
    {"noteBrute": "0", "ns": "5", "percentile": "8"},
    {"noteBrute": "1", "ns": "5", "percentile": "8"},
    {"noteBrute": "2", "ns": "5", "percentile": "8"},
    {"noteBrute": "3", "ns": "6", "percentile": "30"},
    {"noteBrute": "4", "ns": "6", "percentile": "30"},
    {"noteBrute": "5", "ns": "6", "percentile": "30"},
    {"noteBrute": "6", "ns": "6", "percentile": "30"},
    {"noteBrute": "7", "ns": "7", "percentile": "45"},
    {"noteBrute": "8", "ns": "7", "percentile": "45"},
    {"noteBrute": "9", "ns": "7", "percentile": "45"},
    {"noteBrute": "10", "ns": "8", "percentile": "47"},
    {"noteBrute": "11", "ns": "8", "percentile": "47"},
    {"noteBrute": "12", "ns": "8", "percentile": "47"},
    {"noteBrute": "13", "ns": "8", "percentile": "47"},
    {"noteBrute": "14", "ns": "9", "percentile": "52"},
    {"noteBrute": "15", "ns": "9", "percentile": "52"},
    {"noteBrute": "16", "ns": "9", "percentile": "52"},
    {"noteBrute": "17", "ns": "9", "percentile": "52"},
    {"noteBrute": "18", "ns": "10", "percentile": "62"},
    {"noteBrute": "19", "ns": "10", "percentile": "62"},
    {"noteBrute": "20", "ns": "10", "percentile": "62"},
    {"noteBrute": "21", "ns": "10", "percentile": "62"},
    {"noteBrute": "22", "ns": "11", "percentile": "72"},
    {"noteBrute": "23", "ns": "11", "percentile": "72"},
    {"noteBrute": "24", "ns": "11", "percentile": "72"},
    {"noteBrute": "25", "ns": "11", "percentile": "72"},
    {"noteBrute": "26", "ns": "12", "percentile": "78"},
    {"noteBrute": "27", "ns": "12", "percentile": "78"},
    {"noteBrute": "28", "ns": "12", "percentile": "78"},
    {"noteBrute": "29", "ns": "12", "percentile": "78"},
    {"noteBrute": "30", "ns": "13", "percentile": "82"},
    {"noteBrute": "31", "ns": "13", "percentile": "82"},
    {"noteBrute": "32", "ns": "13", "percentile": "82"},
    {"noteBrute": "33", "ns": "14", "percentile": "90"},
    {"noteBrute": "34", "ns": "14", "percentile": "90"},
    {"noteBrute": "35", "ns": "14", "percentile": "90"},
    {"noteBrute": "36", "ns": "14", "percentile": "90"},
    {"noteBrute": "37", "ns": "15", "percentile": "98"},
    {"noteBrute": "38", "ns": "15", "percentile": "98"}
]
,   
            "MF": [
    {"noteBrute": "0", "ns": "1", "percentile": "2"},
    {"noteBrute": "1", "ns": "1", "percentile": "2"},
    {"noteBrute": "2", "ns": "1", "percentile": "2"},
    {"noteBrute": "3", "ns": "1", "percentile": "2"},
    {"noteBrute": "4", "ns": "1", "percentile": "2"},
    {"noteBrute": "5", "ns": "1", "percentile": "2"},
    {"noteBrute": "6", "ns": "1", "percentile": "2"},
    {"noteBrute": "7", "ns": "1", "percentile": "2"},
    {"noteBrute": "8", "ns": "2", "percentile": "5"},
    {"noteBrute": "9", "ns": "2", "percentile": "5"},
    {"noteBrute": "10", "ns": "2", "percentile": "5"},
    {"noteBrute": "11", "ns": "3", "percentile": "7"},
    {"noteBrute": "12", "ns": "3", "percentile": "7"},
    {"noteBrute": "13", "ns": "3", "percentile": "7"},
    {"noteBrute": "14", "ns": "4", "percentile": "13"},
    {"noteBrute": "15", "ns": "4", "percentile": "13"},
    {"noteBrute": "16", "ns": "5", "percentile": "22"},
    {"noteBrute": "17", "ns": "5", "percentile": "22"},
    {"noteBrute": "18", "ns": "5", "percentile": "22"},
    {"noteBrute": "19", "ns": "6", "percentile": "25"},
    {"noteBrute": "20", "ns": "6", "percentile": "25"},
    {"noteBrute": "21", "ns": "7", "percentile": "28"},
    {"noteBrute": "22", "ns": "7", "percentile": "28"},
    {"noteBrute": "23", "ns": "7", "percentile": "28"},
    {"noteBrute": "24", "ns": "8", "percentile": "30"},
    {"noteBrute": "25", "ns": "8", "percentile": "30"},
    {"noteBrute": "26", "ns": "8", "percentile": "30"},
    {"noteBrute": "27", "ns": "9", "percentile": "32"},
    {"noteBrute": "28", "ns": "9", "percentile": "32"},
    {"noteBrute": "29", "ns": "10", "percentile": "40"},
    {"noteBrute": "30", "ns": "10", "percentile": "40"},
    {"noteBrute": "31", "ns": "10", "percentile": "40"},
    {"noteBrute": "32", "ns": "11", "percentile": "55"},
    {"noteBrute": "33", "ns": "11", "percentile": "55"},
    {"noteBrute": "34", "ns": "12", "percentile": "72"},
    {"noteBrute": "35", "ns": "12", "percentile": "72"},
    {"noteBrute": "36", "ns": "12", "percentile": "72"},
    {"noteBrute": "37", "ns": "13", "percentile": "90"},
    {"noteBrute": "38", "ns": "13", "percentile": "90"},
    {"noteBrute": "39", "ns": "14", "percentile": ">99"},
    {"noteBrute": "40", "ns": "14", "percentile": ">99"}
],
            "MG": [
    {"noteBrute": "0", "ns": "1", "percentile": "<2"},
    {"noteBrute": "1", "ns": "1", "percentile": "<2"},
    {"noteBrute": "2", "ns": "1", "percentile": "<2"},
    {"noteBrute": "3", "ns": "1", "percentile": "<2"},
    {"noteBrute": "4", "ns": "2", "percentile": "2"},
    {"noteBrute": "5", "ns": "2", "percentile": "2"},
    {"noteBrute": "6", "ns": "2", "percentile": "2"},
    {"noteBrute": "7", "ns": "3", "percentile": "9"},
    {"noteBrute": "8", "ns": "3", "percentile": "9"},
    {"noteBrute": "9", "ns": "4", "percentile": "17"},
    {"noteBrute": "10", "ns": "4", "percentile": "17"},
    {"noteBrute": "11", "ns": "4", "percentile": "17"},
    {"noteBrute": "12", "ns": "4", "percentile": "17"},
    {"noteBrute": "13", "ns": "5", "percentile": "22"},
    {"noteBrute": "14", "ns": "5", "percentile": "22"},
    {"noteBrute": "15", "ns": "6", "percentile": "26"},
    {"noteBrute": "16", "ns": "6", "percentile": "26"},
    {"noteBrute": "17", "ns": "7", "percentile": "28"},
    {"noteBrute": "18", "ns": "7", "percentile": "28"},
    {"noteBrute": "19", "ns": "8", "percentile": "29"},
    {"noteBrute": "20", "ns": "8", "percentile": "29"},
    {"noteBrute": "21", "ns": "9", "percentile": "34"},
    {"noteBrute": "22", "ns": "9", "percentile": "34"},
    {"noteBrute": "23", "ns": "10", "percentile": "40"},
    {"noteBrute": "24", "ns": "10", "percentile": "40"},
    {"noteBrute": "25", "ns": "11", "percentile": "47"},
    {"noteBrute": "26", "ns": "11", "percentile": "47"},
    {"noteBrute": "27", "ns": "12", "percentile": "69"},
    {"noteBrute": "28", "ns": "12", "percentile": "69"},
    {"noteBrute": "29", "ns": "13", "percentile": "93"},
    {"noteBrute": "30", "ns": "13", "percentile": "93"}
],
            "IOM": [
    {"noteBrute": "0", "ns": "3", "percentile": "2"},
    {"noteBrute": "1", "ns": "4", "percentile": "5"},
    {"noteBrute": "2", "ns": "4", "percentile": "5"},
    {"noteBrute": "3", "ns": "5", "percentile": "13"},
    {"noteBrute": "4", "ns": "5", "percentile": "13"},
    {"noteBrute": "5", "ns": "6", "percentile": "22"},
    {"noteBrute": "6", "ns": "6", "percentile": "22"},
    {"noteBrute": "7", "ns": "7", "percentile": "28"},
    {"noteBrute": "8", "ns": "7", "percentile": "28"},
    {"noteBrute": "9", "ns": "8", "percentile": "35"},
    {"noteBrute": "10", "ns": "9", "percentile": "38"},
    {"noteBrute": "11", "ns": "9", "percentile": "38"},
    {"noteBrute": "12", "ns": "10", "percentile": "50"},
    {"noteBrute": "13", "ns": "10", "percentile": "50"},
    {"noteBrute": "14", "ns": "11", "percentile": "65"},
    {"noteBrute": "15", "ns": "11", "percentile": "65"},
    {"noteBrute": "16", "ns": "12", "percentile": "75"},
    {"noteBrute": "17", "ns": "12", "percentile": "75"},
    {"noteBrute": "18", "ns": "13", "percentile": "88"},
    {"noteBrute": "19", "ns": "13", "percentile": "88"},
    {"noteBrute": "20", "ns": "14", "percentile": "98"}
],
            "EA": [
    {"noteBrute": "0", "ns": "5", "percentile": "2"},
    {"noteBrute": "1", "ns": "5", "percentile": "2"},
    {"noteBrute": "2", "ns": "6", "percentile": "6"},
    {"noteBrute": "3", "ns": "6", "percentile": "6"},
    {"noteBrute": "4", "ns": "7", "percentile": "15"},
    {"noteBrute": "5", "ns": "7", "percentile": "15"},
    {"noteBrute": "6", "ns": "8", "percentile": "25"},
    {"noteBrute": "7", "ns": "8", "percentile": "25"},
    {"noteBrute": "8", "ns": "8", "percentile": "25"},
    {"noteBrute": "9", "ns": "9", "percentile": "35"},
    {"noteBrute": "10", "ns": "9", "percentile": "35"},
    {"noteBrute": "11", "ns": "10", "percentile": "45"},
    {"noteBrute": "12", "ns": "10", "percentile": "45"},
    {"noteBrute": "13", "ns": "11", "percentile": "58"},
    {"noteBrute": "14", "ns": "11", "percentile": "58"},
    {"noteBrute": "15", "ns": "12", "percentile": "68"},
    {"noteBrute": "16", "ns": "12", "percentile": "68"},
    {"noteBrute": "17", "ns": "13", "percentile": "81"},
    {"noteBrute": "18", "ns": "13", "percentile": "81"},
    {"noteBrute": "19", "ns": "14", "percentile": "91"},
    {"noteBrute": "20", "ns": "14", "percentile": "91"},
    {"noteBrute": "21", "ns": "15", "percentile": "97"},
    {"noteBrute": "22", "ns": "15", "percentile": "97"}
],
            "RS": [
    {"noteBrute": "0", "ns": "5", "percentile": "3"},
    {"noteBrute": "1", "ns": "5", "percentile": "3"},
    {"noteBrute": "2", "ns": "6", "percentile": "9"},
    {"noteBrute": "3", "ns": "6", "percentile": "9"},
    {"noteBrute": "4", "ns": "7", "percentile": "17"},
    {"noteBrute": "5", "ns": "7", "percentile": "17"},
    {"noteBrute": "6", "ns": "7", "percentile": "17"},
    {"noteBrute": "7", "ns": "8", "percentile": "28"},
    {"noteBrute": "8", "ns": "8", "percentile": "28"},
    {"noteBrute": "9", "ns": "9", "percentile": "41"},
    {"noteBrute": "10", "ns": "9", "percentile": "41"},
    {"noteBrute": "11", "ns": "10", "percentile": "50"},
    {"noteBrute": "12", "ns": "10", "percentile": "50"},
    {"noteBrute": "13", "ns": "11", "percentile": "59"},
    {"noteBrute": "14", "ns": "11", "percentile": "59"},
    {"noteBrute": "15", "ns": "12", "percentile": "73"},
    {"noteBrute": "16", "ns": "12", "percentile": "73"},
    {"noteBrute": "17", "ns": "12", "percentile": "73"},
    {"noteBrute": "18", "ns": "13", "percentile": "86"},
    {"noteBrute": "19", "ns": "13", "percentile": "86"},
    {"noteBrute": "20", "ns": "13", "percentile": "86"},
    {"noteBrute": "21", "ns": "14", "percentile": "93"},
    {"noteBrute": "22", "ns": "14", "percentile": "93"},
    {"noteBrute": "23", "ns": "15", "percentile": "98"},
    {"noteBrute": "24", "ns": "15", "percentile": "98"}
],
            "CMC": [
    {"noteBrute": "0", "ns": "1", "percentile": "< 2"},
    {"noteBrute": "1", "ns": "1", "percentile": "< 2"},
    {"noteBrute": "2", "ns": "1", "percentile": "< 2"},
    {"noteBrute": "3", "ns": "2", "percentile": "2"},
    {"noteBrute": "4", "ns": "2", "percentile": "2"},
    {"noteBrute": "5", "ns": "3", "percentile": "3"},
    {"noteBrute": "6", "ns": "3", "percentile": "3"},
    {"noteBrute": "7", "ns": "3", "percentile": "3"},
    {"noteBrute": "8", "ns": "4", "percentile": "5"},
    {"noteBrute": "9", "ns": "4", "percentile": "5"},
    {"noteBrute": "10", "ns": "5", "percentile": "12"},
    {"noteBrute": "11", "ns": "5", "percentile": "12"},
    {"noteBrute": "12", "ns": "6", "percentile": "20"},
    {"noteBrute": "13", "ns": "6", "percentile": "20"},
    {"noteBrute": "14", "ns": "7", "percentile": "27"},
    {"noteBrute": "15", "ns": "7", "percentile": "27"},
    {"noteBrute": "16", "ns": "8", "percentile": "32"},
    {"noteBrute": "17", "ns": "8", "percentile": "32"},
    {"noteBrute": "18", "ns": "9", "percentile": "38"},
    {"noteBrute": "19", "ns": "9", "percentile": "38"},
    {"noteBrute": "20", "ns": "9", "percentile": "38"},
    {"noteBrute": "21", "ns": "10", "percentile": "47"},
    {"noteBrute": "22", "ns": "10", "percentile": "47"},
    {"noteBrute": "23", "ns": "11", "percentile": "60"},
    {"noteBrute": "24", "ns": "11", "percentile": "60"},
    {"noteBrute": "25", "ns": "12", "percentile": "73"},
    {"noteBrute": "26", "ns": "12", "percentile": "73"},
    {"noteBrute": "27", "ns": "13", "percentile": "83"},
    {"noteBrute": "28", "ns": "13", "percentile": "83"},
    {"noteBrute": "29", "ns": "14", "percentile": "95"},
    {"noteBrute": "30", "ns": "14", "percentile": "95"}
],
            "CVC": [
    {"noteBrute": "0", "ns": "3", "percentile": "4"},
    {"noteBrute": "1", "ns": "3", "percentile": "4"},
    {"noteBrute": "2", "ns": "4", "percentile": "8"},
    {"noteBrute": "3", "ns": "4", "percentile": "8"},
    {"noteBrute": "4", "ns": "5", "percentile": "8"},
    {"noteBrute": "5", "ns": "5", "percentile": "8"},
    {"noteBrute": "6", "ns": "6", "percentile": "8"},
    {"noteBrute": "7", "ns": "7", "percentile": "8"},
    {"noteBrute": "8", "ns": "7", "percentile": "8"},
    {"noteBrute": "9", "ns": "8", "percentile": "15"},
    {"noteBrute": "10", "ns": "8", "percentile": "15"},
    {"noteBrute": "11", "ns": "9", "percentile": "31"},
    {"noteBrute": "12", "ns": "10", "percentile": "46"},
    {"noteBrute": "13", "ns": "10", "percentile": "46"},
    {"noteBrute": "14", "ns": "11", "percentile": "73"},
    {"noteBrute": "15", "ns": "11", "percentile": "73"},
    {"noteBrute": "16", "ns": "12", "percentile": "96"},
    {"noteBrute": "17", "ns": "12", "percentile": "96"},
    {"noteBrute": "18", "ns": "13", "percentile": ">99"},
    {"noteBrute": "19", "ns": "14", "percentile": ">99"},
    {"noteBrute": "20", "ns": "14", "percentile": ">99"},
    {"noteBrute": "21", "ns": "15", "percentile": ">99"},
    {"noteBrute": "22", "ns": "15", "percentile": ">99"}
],
        }
        
        count = 0

        for domain, items in json_data.items():
            for item in items:
                note_brute = item['noteBrute']
                ns = item.get('ns', '-')
                percentile = item.get('percentile', '-')
                
                if ns != '-':
                    ScoreParametrage.objects.get_or_create(
                        tranche=tranche,
                        domain='Performance',
                        sous_domain=domain,
                        score_brut=int(note_brute),
                        defaults={
                            'ns': int(ns),
                            'percentile': percentile
                        }
                    )
                    count += 1

        self.stdout.write(self.style.SUCCESS(f'{count} paramètres créés pour {tranche.label}'))
